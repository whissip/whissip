/**
 * This file is part of the evoCore framework - {@link http://evocore.net/}
 * See also {@link http://sourceforge.net/projects/evocms/}.
 * @version $Id$
 */
jQuery(document).ready(function(){var e=1;jQuery(document).on("mouseover","[rel^=bubbletip_]",function(){var t=jQuery(this);var n="";var r="";if(t.attr("rel").match("bubbletip_user_")){var i=t.attr("rel").replace(/bubbletip_user_(\d+).*/g,"$1");n="popover_cache_user_"+i;r="&userid="+i}else if(t.attr("rel").match("bubbletip_comment_")){var s=t.attr("rel").replace(/bubbletip_comment_(\d+).*/,"$1");n="popover_cache_comment_"+s;r="&commentid="+s}if(n!=""){t.attr("id","popoverlink"+e);var o={trigger:"hover",placement:"top",html:true,template:'<div class="popover"><div class="arrow"></div><div class="popover-content"></div></div>'};if(jQuery("#"+n).length==0){jQuery("body").append('<div id="'+n+'" style="display:none;"></div>');var u=jQuery("#"+n);jQuery.ajax({type:"POST",url:htsrv_url+"anon_async.php",data:"action=get_user_bubbletip"+"&blog="+blog_id+r,success:function(e){if(ajax_response_is_correct(e)){e=ajax_debug_clear(e);u.html(e);var n=true;if(t.hasClass("hide_popover")){n=false;t.removeClass("hide_popover")}o.content=u.html();t.popover(o);if(n){t.popover("show")}t.attr("rel",t.attr("rel").replace(/bubbletip_(user_|comment_)[\d\s]+/g,""));console.log("ajax")}}})}else{if(jQuery("#"+n).html()!=""){var a=t.attr("title");t.removeAttr("title");o.content=jQuery("#"+n).html();t.popover(o);t.popover("show");t.attr("title",a);t.attr("rel",t.attr("rel").replace(/bubbletip_(user_|comment_)[\d\s]+/g,""))}}e++}});jQuery(document).on("mouseleave","[rel^=bubbletip_]",function(){jQuery(this).addClass("hide_popover")})})